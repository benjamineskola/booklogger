{% extends "base.html" %}
{% block content %}

{% for genre in ["all", "fiction", "non-fiction"] %}
<h3>{{ genre.title() }}</h3>
  {% for tag, count in tags[genre].items() %}
    {% if count %}
      {% if tag == "no other tags" %}
        <a class="badge badge-secondary" href="{{ url("library:tag_details", args=[genre + "!"]) }}">{{ tag }}: {{ count }}</a>
      {% else %}
        <a class="badge badge-{% if tag == genre %}info{% else%}secondary{% endif %}" href="{{ url("library:tag_details", args=[tag]) }}{% if tag != genre %}?tags={{ genre }}{% endif %}">{{ tag }}: {{ count }}</a>
      {% endif %}
    {% endif %}
  {% endfor %}
{% endfor %}
{% if genre == "all" and tags["untagged"] %}
  <a class="badge badge-secondary" href="{{ url("library:tag_details", args=["untagged"]) }}">untagged: {{ tags["untagged"] }}</a>
{% endif %}
{% endblock content %}
