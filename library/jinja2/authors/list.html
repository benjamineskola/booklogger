{% extends "base.html" %}
{% block content %}
<p>There are a total of {{ total_authors }} authors.</p>
<ul class="list-unstyled">
  {% for author in page_obj %}
    <li>
      {{ author | get_hyperlink }}
      <span class="text-muted">(
      {%- if author.authored_books.count() > 0 -%}
        Author of {{ author.authored_books.first().title }}
      {%- elif author.edited_books.count() > 0 -%}
        Editor of {{ author.edited_books.first().title }}
      {%- else -%}
        Contributor to {{ author.books.first().title }}
      {%- endif %}
      {%- if author.books.count() > 1 %}
        and {{ author.books.count() -1 }} other{% if author.books.count() > 2 %}s{% endif %}
      {%- endif %}.)</span>
    </li>
  {% endfor %}
</ul>
{% endblock content %}
